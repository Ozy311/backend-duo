## Bug and Issue Tracker

| ID  | Status        | Date Reported | Description                                   | Component/Area      | Steps to Reproduce                                     | Priority | Resolution Notes | Date Fixed | Reported By | Assigned To |
|-----|---------------|---------------|-----------------------------------------------|---------------------|--------------------------------------------------------|----------|------------------|------------|-------------|-------------|
| 001 | Resolved      | 2025-04-22    | Example: Incorrect redirect after failed login| Flask /login route  | 1. Go to /login. 2. Enter invalid password. 3. See redirect X instead of login page with error. | Medium   | Fixed via Nginx `error_page 401` redirect | 2025-04-25 | User        | Ozy      |
| 002 | Resolved      | 2025-04-24    | Pip install fails (connection timeout)        | Environment / Pip   | Run `pip install duo_universal` without proxy config.  | High     | Use --proxy arg  | 2025-04-24 | Ozy      | Ozy      |
| 003 | Resolved      | 2025-04-24    | ModuleNotFoundError: duo_universal.errors   | Environment / Venv| Run `python3 -m flask_auth.app` / `venv/bin/python3 ...` | High     | Use venv Python | 2025-04-24 | User/Ozy | Ozy      |
| 004 | Resolved      | 2025-04-24    | ModuleNotFoundError: ldap3                  | Environment / Venv| Run `venv/bin/python3 -m flask_auth.app` after fixing 003. | High     | Use venv pip; Corrected requirements.txt to use ldap3 instead of python-ldap for prod deployment | 2025-04-28 | User/Ozy | Ozy      |
| 005 | Resolved      | 2025-04-24    | ModuleNotFoundError: flask_login            | Environment / Venv| Run `venv/bin/python3 -m flask_auth.app` after fixing 004. | High     | Use venv pip     | 2025-04-24 | User/Ozy | Ozy      |
| 006 | Resolved      | 2025-04-24    | UnboundLocalError: `user_dn_to_bind`        | Flask / AD Auth   | Trigger `LDAPBindError` during `connect_ad` via invalid bind credentials. | Medium   | Fixed error handling in except block | 2025-04-24 | User/Ozy | Ozy      |
| 007 | Resolved      | 2025-04-24    | LDAPBindError: invalidCredentials / Cert Validation | Flask / AD Auth   | Provide incorrect bind DN/pass, use IP vs hostname, missing CA cert | Critical | Corrected `.env` bind DN, switched to FQDN in `AD_SERVER_URIS`, added CA cert validation | 2025-04-24 | User/Ozy | User/Ozy |
| 008 | Resolved      | 2025-04-24    | LDAPException: invalid attribute type       | Flask / AD Search | Occurs during `find_user_dn` after successful service account bind. | High     | Resolved by fixing AD Bind DN/Creds (Bug 007), allowing successful auth. | 2025-04-24 | User/Ozy | User/Ozy |
| 009 | Resolved      | 2025-04-25    | Duo health check fails (ConnectTimeoutError)| Flask / Duo Init  | App cannot reach Duo API (`api-*.duosecurity.com`) from server env. | Critical | Set standard `HTTPS_PROXY` and `HTTP_PROXY` environment variables in production `.env` file. | 2025-04-28 | User/Ozy | User/Ozy |
| 010 | Resolved      | 2025-04-25    | Duo callback error: invalid_grant / Invalid redirect URI | Flask / Duo Callback | After Duo prompt, redirect back to Flask fails | Critical | Added test callback URL to allowed Redirect URIs in Duo Admin Panel. | 2025-04-25 | User/Ozy | User        |
| 011 | Resolved      | 2025-04-25    | Nginx doesn't proxy to Tomcat after successful auth | Nginx / Flask Auth | After successful Duo login, `/auth_check` fails (401), causing redirect loop back to login. | High     | Successfully tested after Gunicorn service deployment fix (Bug 014/015) | 2025-04-28 | User/Ozy | Ozy      |
| 012 | Resolved      | 2025-04-25    | Login page theming/form errors                | Flask / Jinja / Env | Series of errors during login page theme update: TemplateNotFound (missing base.html), UndefinedError (form not passed), ModuleNotFoundError (flask_wtf missing), NameError (LoginForm not defined) | Medium   | Added base.html, passed form to template, installed Flask-WTF, defined LoginForm class. | 2025-04-25 | User/Ozy | Ozy      |
| 013 | Resolved      | 2025-04-28    | Post-auth redirect uses index instead of original URI | Flask / Duo Callback | 1. Access protected URL (e.g., /payment/...). 2. Get redirected to /login?redirect_uri=.... 3. Login successfully. 4. Get redirected to / instead of original /payment/... | Medium   | Stored redirect_uri in session, retrieve and use in callback | 2025-04-28 | User/Ozy | Ozy      |
| 014 | Resolved      | 2025-04-28    | Gunicorn service fails to read `.env` correctly (AD_USE_SSL false) | Systemd / Gunicorn | Gunicorn service log shows `AD_USE_SSL is False` despite `.env` containing `AD_USE_SSL='true'`. | Critical | Removed inline comments from production `.env` file, as systemd's parser included them in the value. | 2025-04-28 | User/Ozy | Ozy      |
| 015 | Resolved      | 2025-04-28    | Gunicorn service fails (LDAP Connection reset by peer) | Gunicorn / LDAP | Service attempts plain LDAP on port 636 due to incorrect `AD_USE_SSL` read (Bug 014). | Critical | Fixed underlying `.env` parsing issue (Bug 014). | 2025-04-28 | User/Ozy | Ozy      |
|     |               |               |                                               |                     |                                                        |          |                  |            |             |             |
|     |               |               |                                               |                     |                                                        |          |                  |            |             |             |

**Status:** Open, In Progress, Resolved, Closed, Won't Fix
**Priority:** Low, Medium, High, Critical